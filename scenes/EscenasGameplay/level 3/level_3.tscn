[gd_scene load_steps=21 format=2]

[ext_resource path="res://scenes/Player/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/EscenasGameplay/Power_Ups/hide.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/EscenasGameplay/Power_Ups/salto3.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/EscenasGameplay/level 3/Reja.gd" type="Script" id=4]
[ext_resource path="res://scenes/EscenasGameplay/level 3/level_3.gd" type="Script" id=5]

[sub_resource type="BoxShape" id=1]

[sub_resource type="CubeMesh" id=2]

[sub_resource type="BoxShape" id=3]

[sub_resource type="CubeMesh" id=4]

[sub_resource type="Animation" id=5]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 19.3866, 6.43593, 6.19059 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("../plataformaMovil2:translation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 32.7824, 15.8901, 6.19059 ) ]
}

[sub_resource type="Animation" id=6]
resource_name = "platense"
length = 3.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector3( 19.3866, 6.43593, 6.19059 ), Vector3( 19.3866, 6.43593, -8.97352 ) ]
}

[sub_resource type="Animation" id=8]
resource_name = "quilmes"
length = 3.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector3( 33.3047, 6.43593, 0.0603676 ), Vector3( 33.3047, 15.6164, 0.0603676 ) ]
}

[sub_resource type="Animation" id=9]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("CollisionShape:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Reja2/CollisionShape:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Reja2/MeshInstance:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}

[sub_resource type="Animation" id=10]
resource_name = "desaparición"
length = 5.0
tracks/0/type = "value"
tracks/0/path = NodePath("CollisionShape:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("MeshInstance:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Reja2/CollisionShape:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Reja2/MeshInstance:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}

[sub_resource type="Animation" id=11]
resource_name = "Movimiento"
length = 20.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 10 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector3( 101.863, 25.9045, -65.6358 ), Vector3( 202.461, 64.2612, -65.6358 ) ]
}

[sub_resource type="Animation" id=12]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 101.863, 25.9045, -65.6358 ) ]
}

[sub_resource type="BoxShape" id=13]

[sub_resource type="Animation" id=14]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("../Player:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( -0.892471, 2.13021, 0.256427 ) ]
}

[sub_resource type="Animation" id=15]
resource_name = "respawn"
length = 0.01
tracks/0/type = "value"
tracks/0/path = NodePath("../Player:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( -0.892471, 2.13021, 0.256427 ) ]
}

[sub_resource type="CylinderShape" id=16]

[node name="Spatial" type="Spatial"]
script = ExtResource( 5 )

[node name="PlataformaInicial" type="StaticBody" parent="."]
transform = Transform( 7.34702, 0, 0, 0, 1.30591, 0, 0, 0, 3.53875, 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="PlataformaInicial"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="PlataformaInicial"]
mesh = SubResource( 2 )
material/0 = null

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.892471, 2.13021, 0.256427 )

[node name="plataformaMovil1" type="KinematicBody" parent="."]
transform = Transform( 3.10148, 0, 0, 0, 1, 0, 0, 0, 4.51393, 19.3866, 6.43593, 6.19059 )

[node name="CollisionShape" type="CollisionShape" parent="plataformaMovil1"]
shape = SubResource( 3 )

[node name="MeshInstance" type="MeshInstance" parent="plataformaMovil1"]
mesh = SubResource( 4 )
material/0 = null

[node name="AnimationPlayer" type="AnimationPlayer" parent="plataformaMovil1"]
autoplay = "platense"
anims/RESET = SubResource( 5 )
anims/platense = SubResource( 6 )

[node name="plataformaMovil2" type="KinematicBody" parent="."]
transform = Transform( 3.10148, 0, 0, 0, 1, 0, 0, 0, 4.51393, 32.7824, 15.8901, 6.19059 )

[node name="CollisionShape" type="CollisionShape" parent="plataformaMovil2"]
shape = SubResource( 3 )

[node name="MeshInstance" type="MeshInstance" parent="plataformaMovil2"]
mesh = SubResource( 4 )
material/0 = null

[node name="AnimationPlayer" type="AnimationPlayer" parent="plataformaMovil2"]
autoplay = "quilmes"
anims/quilmes = SubResource( 8 )

[node name="PlataformaCentral" type="StaticBody" parent="."]
transform = Transform( 20.2066, 0, 0, 0, 1.30591, 0, 0, 0, 8.57544, 69.2465, 21.0973, 0 )

[node name="CollisionShape" type="CollisionShape" parent="PlataformaCentral"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="PlataformaCentral"]
mesh = SubResource( 2 )
material/0 = null

[node name="CSGBox" type="CSGBox" parent="."]
transform = Transform( 20.0867, 0, 0, 0, 1, 0, 0, 0, 33.8792, 69.1166, 21.3814, -41.8497 )
use_collision = true

[node name="CSGBox" type="CSGBox" parent="CSGBox"]
transform = Transform( 0.465738, 0, 0, 0, 1, 0, 0, 0, 0.613091, -0.583845, 0, 0.536559 )
operation = 2
depth = 1.45653

[node name="CSGBox2" type="CSGBox" parent="CSGBox"]
transform = Transform( 0.502157, 0, 0, 0, 1, 0, 0, 0, 0.613091, 0.602073, 0, 0.53656 )
operation = 2
depth = 1.45653

[node name="CSGBox3" type="CSGBox" parent="CSGBox"]
transform = Transform( 1.00452, 0, 0, 0, 12.139, 0, 0, 0, 0.613091, -0.00189471, 7.82637, -0.764714 )
depth = 0.769578

[node name="CSGBox3" type="CSGBox" parent="CSGBox/CSGBox3"]
transform = Transform( 0.957533, 0, 0, 0, 1.19088, 0, 0, 0, 0.385104, 0.689363, -0.306628, 0.225991 )
operation = 2
depth = 0.769578

[node name="CSGBox4" type="CSGBox" parent="CSGBox/CSGBox3"]
transform = Transform( 0.162951, 0, 0, 0, 0.466621, 0, 0, 0, 0.385104, 0.25763, -0.306629, 0.525731 )
operation = 2
depth = 0.787657

[node name="PlataformaPU" type="StaticBody" parent="."]
transform = Transform( 4.30118, 0, 0, 0, 1.30591, 0, 0, 0, 3.53875, 20.2949, 6.13827, -22.0188 )

[node name="CollisionShape" type="CollisionShape" parent="PlataformaPU"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="PlataformaPU"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1.43927, 0, 0, 0 )
mesh = SubResource( 2 )
material/0 = null

[node name="hide" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 55.1206, 45.7533, -66.1783 )
visible = false

[node name="Reja" type="StaticBody" parent="."]
transform = Transform( 0.843234, 0, 0, 0, 5.14017, 0, 0, 0, 0.240838, 75.8178, 26.3312, -60.0107 )
script = ExtResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Reja"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Reja"]
mesh = SubResource( 2 )
material/0 = null

[node name="Reja2" type="StaticBody" parent="Reja"]
transform = Transform( 1, 0, 0, 0, 0.948823, 0, 0, 0, 1, -3.61752, 0.0595326, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Reja/Reja2"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Reja/Reja2"]
mesh = SubResource( 2 )
material/0 = null

[node name="AnimacionReja" type="AnimationPlayer" parent="Reja"]
anims/RESET = SubResource( 9 )
"anims/desaparición" = SubResource( 10 )

[node name="salto3" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 21.0673, 9.40354, -22.0532 )

[node name="plataformaMovil3" type="KinematicBody" parent="."]
transform = Transform( 4.63139, 0, 0, 0, 1.90834, 0, 0, 0, 9.7367, 101.863, 25.9045, -65.6358 )

[node name="CollisionShape" type="CollisionShape" parent="plataformaMovil3"]
shape = SubResource( 3 )

[node name="MeshInstance" type="MeshInstance" parent="plataformaMovil3"]
mesh = SubResource( 4 )
material/0 = null

[node name="AnimationPlayer" type="AnimationPlayer" parent="plataformaMovil3"]
autoplay = "Movimiento"
anims/Movimiento = SubResource( 11 )
anims/RESET = SubResource( 12 )

[node name="CSGBox2" type="CSGBox" parent="."]
transform = Transform( 5.39452, 0, 0, 0, 3.44142, 0, 0, 0, 12.8828, 222.98, 73.9371, -62.4392 )
use_collision = true
depth = 1.45653

[node name="CSGCylinder" type="CSGCylinder" parent="CSGBox2"]
transform = Transform( 0.34206, 0, 0, 0, 0.993719, 0, 0, 0, 0.144481, 0, 0.67075, 0 )
operation = 2

[node name="obstaculo1" type="StaticBody" parent="."]
transform = Transform( 1.71573, 0, 0, 0, 1.30591, 0, 0, 0, 14.8783, 116.84, 35.5317, -67.2527 )

[node name="CollisionShape" type="CollisionShape" parent="obstaculo1"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="obstaculo1"]
mesh = SubResource( 2 )
material/0 = null

[node name="obstaculo2" type="StaticBody" parent="."]
transform = Transform( 1.71573, 0, 0, 0, 2.59935, 0, 0, 0, 14.8783, 144.369, 49.2612, -67.2527 )

[node name="CollisionShape" type="CollisionShape" parent="obstaculo2"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="obstaculo2"]
mesh = SubResource( 2 )
material/0 = null

[node name="obstaculo3" type="StaticBody" parent="."]
transform = Transform( 1.71573, 0, 0, 0, 6.13657, 0, 0, 0, 14.8783, 171.374, 60.5659, -67.2527 )

[node name="CollisionShape" type="CollisionShape" parent="obstaculo3"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="obstaculo3"]
mesh = SubResource( 2 )
material/0 = null

[node name="recompensa" type="StaticBody" parent="."]
transform = Transform( 7.23659, 0, 0, 0, 27.5695, 0, 0, 0, 11.7625, 47.821, 29.3058, -92.2083 )

[node name="CollisionShape" type="CollisionShape" parent="recompensa"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="recompensa"]
mesh = SubResource( 2 )
material/0 = null

[node name="Limite" type="Area" parent="."]
transform = Transform( 772.606, 0, 0, 0, 1, 0, 0, 0, 791.321, 131.307, -27.5965, 20.6783 )

[node name="CollisionShape" type="CollisionShape" parent="Limite"]
transform = Transform( 1.65758, 0, 0, 0, 1, 0, 0, 0, 2.41263, 0, 0, 0 )
shape = SubResource( 13 )

[node name="Ani" type="AnimationPlayer" parent="Limite"]
anims/RESET = SubResource( 14 )
anims/respawn = SubResource( 15 )

[node name="Final" type="Area" parent="."]
transform = Transform( 0.73535, 0, 0, 0, 1, 0, 0, 0, 0.628967, 222.999, 76.0674, -62.4367 )

[node name="ColisionFinal" type="CollisionShape" parent="Final"]
transform = Transform( 1.69797, 0, 0, 0, 1, 0, 0, 0, 2.41263, 0, 0, 0 )
shape = SubResource( 16 )

[connection signal="body_entered" from="hide" to="Reja" method="_on_hide_body_entered"]
[connection signal="body_entered" from="salto3" to="Player" method="_on_salto3_body_entered"]
[connection signal="body_entered" from="Limite" to="." method="_on_Limite_body_entered"]
[connection signal="body_entered" from="Final" to="." method="_on_Final_body_entered"]
